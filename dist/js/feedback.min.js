angular.module("MyApp",[]).controller("UploadCtrl",["$scope","$http",function(e,n){e.feedback={formVissible:!1,name:"",email:"",message:"",file:"",errors:{message:!1}},e.showForm=function(){var n=angular.element(document.querySelector("form#notification"));n.removeClass("hidden"),e.feedback.formVissible=!0},e.submit=function(){if(0==e.feedback.message.length)return e.feedback.errors.message="Treść zgłoszenia nie może być pusta.",!1;var a=new FormData;a.append("sendFeedbackForm[attachment]",e.feedback.file),a.append("sendFeedbackForm[first_name]",e.feedback.name),a.append("sendFeedbackForm[last_name]","..."),a.append("sendFeedbackForm[email]",e.feedback.email),a.append("sendFeedbackForm[subject]","Zgłoszenie od czytelnika."),a.append("sendFeedbackForm[message]",e.feedback.message),a.append("publication",newscoop.feedbackPlugin.publication),a.append("feedbackUrl",newscoop.feedbackPlugin.feedbackUrl),n.post("http://newscoop.dev/plugin/send-feedback",a,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e){console.log(e)})}}]),angular.module("MyApp").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(n,a,o){var s=e(o.fileModel),d=s.assign;a.bind("change",function(){n.$apply(function(){d(n,a[0].files[0])})})}}}]),angular.module("MyApp").config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]);